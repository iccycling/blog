{{ define "main" }}
<section id="wrapper">
  <div class="wrapper style1">
    <div class="inner">
      <h2 class="major">All Posts – Newest First</h2>
      <section class="features">
        {{ $paginator := .Paginate (where .Pages "Type" "posts") }}
        {{ range $paginator.Pages }}
        <article>
          {{ $post := . }}  <!-- speichert den aktuellen Blogpost -->
{{ with .Resources.GetMatch .Params.featured_image }}
  {{ $img := .Fill "800x600 top center" }}
  <a href="{{ $post.RelPermalink }}" class="image" style="display:block;position:relative;">
    <img src="{{ $img.RelPermalink }}" alt="{{ $post.Title }}" style="width:100%;display:block;">
  </a>
{{ end }}

          

          <h3 class="major"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>

          <p>{{ .Summary }}</p>

          <p style="font-size:0.85em; color:#777;">
  {{ with .Params.authors }}
    {{ range $index, $author := . }}
      <a href="{{ "authors/" | relURL }}{{ $author | urlize }}" style="color:#777;">
        {{ $author }}
      </a>{{ if lt (add $index 1) (len .) }}, {{ end }}
    {{ end }}
  {{ end }}
  {{ if .Date }} • {{ .Date.Format "02. January 2006" }}{{ end }}
</p>

          <a href="{{ .RelPermalink }}" class="special">Read More</a>
        </article>
        {{ end }}
      </section>

      <!-- Custom Pagination -->
      {{ if gt $paginator.TotalPages 1 }}
      <nav
        style="margin-top:3em; text-align:center; font-size:1.2rem; display:flex; flex-wrap:wrap; gap:2rem; justify-content:center;">
        {{ with $paginator.Prev }}
        <a href="{{ .URL }}">« Newer</a>
        {{ end }}

        {{ range $paginator.Pagers }}
        {{ if eq . $paginator }}
        <span style="font-weight:bold;">{{ .PageNumber }}</span>
        {{ else }}
        <a href="{{ .URL }}">{{ .PageNumber }}</a>
        {{ end }}
        {{ end }}

        {{ with $paginator.Next }}
        <a href="{{ .URL }}">Older »</a>
        {{ end }}
      </nav>
      {{ end }}




    </div>
  </div>

  <div class="wrapper alt style5">
    <div class="inner">
      <h3>All Tags</h3>
      <!-- Alle Tags Box -->
      {{ $allTags := slice }}
      {{ range .Site.RegularPages }}
      {{ with .Params.tags }}
      {{ range . }}
      {{ $allTags = $allTags | append . }}
      {{ end }}
      {{ end }}
      {{ end }}
      {{ $allTags = $allTags | uniq | sort }}

      {{ if gt (len $allTags) 0 }}


      {{ range $allTags }}
      <a href="{{ "tags/" | relURL }}{{ . | urlize }}"
        style="display:inline-block; margin:0.3em 0.5em; padding:0.3em 0.7em; background:#333; color:#eee; border-radius:3px; text-decoration:none; font-size:0.9rem;">
        {{ . }}
      </a>
      {{ end }}

      {{ end }}
    </div>
  </div>

</section>
{{ end }}