{{ define "main" }}
<section id="wrapper">
  <div class="wrapper style2">
    <div class="inner">
      <header>
        <h1>Posts tagged: "{{ .Title }}"</h1>
      </header>

      <section class="features">
        {{ $paginator := .Paginate .Pages 6 }}
        {{ range $paginator.Pages }}
        <article>
          {{ $post := . }}  <!-- speichert den aktuellen Blogpost -->
          {{ with .Resources.GetMatch .Params.featured_image }}
            {{ $img := .Fill "800x600 top center" }}
            <a href="{{ $post.RelPermalink }}" class="image" style="display:block;position:relative;">
              <img src="{{ $img.RelPermalink }}" alt="{{ $post.Title }}" style="width:100%;display:block;">
            </a>
          {{ end }}




          <h3 class="major"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>

          <!-- Summary -->
          <p style="margin-bottom:1em;">{{ .Summary }}</p>

          <!-- Autor + Datum -->
          <p style="font-size:0.85em; color:#777; margin-bottom:1em;">
            {{ with .Params.authors }}{{ delimit . ", " }}{{ end }}
            {{ if .Date }} • {{ .Date.Format "2 January 2006" }}{{ end }}
          </p>

          <a href="{{ .RelPermalink }}" class="special">Read More</a>
        </article>
        {{ end }}
      </section>

      <!-- Custom Pagination -->
      {{ if gt $paginator.TotalPages 1 }}
      <nav
        style="margin-top:3em; text-align:center; font-size:1.2rem; display:flex; flex-wrap:wrap; gap:2rem; justify-content:center;">
        {{ with $paginator.Prev }}
        <a href="{{ .URL }}">« Newer</a>
        {{ end }}

        {{ range $paginator.Pagers }}
        {{ if eq . $paginator }}
        <span style="font-weight:bold;">{{ .PageNumber }}</span>
        {{ else }}
        <a href="{{ .URL }}">{{ .PageNumber }}</a>
        {{ end }}
        {{ end }}

        {{ with $paginator.Next }}
        <a href="{{ .URL }}">Older »</a>
        {{ end }}
      </nav>
      {{ end }}

    </div>
  </div>
</section>
{{ end }}